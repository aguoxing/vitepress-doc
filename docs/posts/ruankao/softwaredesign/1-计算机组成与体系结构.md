---
title: 计算机组成与体系结构
description: 计算机组成与体系结构
date: 2022-08-31
category: 软考笔记
tags:
  - 软件设计师教程
  - 王寄清
---



# 1.计算机组成与体系结构

>数据的表示（⭐⭐⭐⭐）
>
>运算器与控制器（⭐⭐⭐⭐）
>
>Flynn分类法（⭐⭐）
>
>CISC与RISC（⭐⭐）
>
>流水线技术（⭐⭐⭐⭐）
>
>存储系统（⭐⭐⭐⭐）
>
>总线系统（⭐）
>
>可靠性（⭐）
>
>校验码（⭐⭐⭐）

## 数据的表示

1. 十进制（DEC）： 都是以0-9这九个数字组成，不能以0开头。

2. 二进制（BIN）： 由0和1两个数字组成。

3. 八进制（OCT）： 由0-7数字组成，为了区分与其他进制的数字区别，开头都是以0开始。

4. 十六进制（HEX）：由0-9和A-F组成。为了区分于其他数字的区别，开头都是以0x开始。

| 二进制 | 八进制 | 十进制 | 十六进制 |
| ------ | ------ | ------ | -------- |
| 0000   | 0      | 0      | 0        |
| 0001   | 1      | 1      | 1        |
| 0010   | 2      | 2      | 2        |
| 0011   | 3      | 3      | 3        |
| 0100   | 4      | 4      | 4        |
| 0101   | 5      | 5      | 5        |
| 0110   | 6      | 6      | 6        |
| 0111   | 7      | 7      | 7        |
| 1000   | 10     | 8      | 8        |
| 1001   | 11     | 9      | 9        |
| 1010   | 12     | 10     | A        |
| 1011   | 13     | 11     | B        |
| 1100   | 14     | 12     | C        |
| 1101   | 15     | 13     | D        |
| 1110   | 16     | 14     | E        |
| 1111   | 17     | 15     | F        |

- **R进制转十进制**使用按权展开法，其具体操作方式为：将R进制数的每一位数值使用【R^k^】表示，即幂的底数是R，指数为k，k与该位和小数点之间的距离有关。当该位位于小数点左边，k值是该位和小数点之间码数的个数，而当该位位于小数点右边，k值是负值，其绝对值是该位和小数点之间数码的个数加1。
- 例如二进制10100.01=1x2^4^+1x2^2^+1x2^-2^
- 例如七进制604.01=6x7^2^+4x7^0^+1x7^-2^
- **十进制转R进制**使用短除法。例如将94转换为二进制数。

```
2|94		余 0
2|47		   1
2|23		   1
2|11		   1
2|5			   1
2|2			   0
 1
得到结果为（从下往上）1011110
```

- 二进制转八进制

  二进制转换成八进制的方法是，取三合一法，即从二进制的小数点为分界点向小数点的左边开始取三位二进制的数转换为一位八进制的数，小数点左边的数不够三位的在数的最前面补零，小数点后面的不够三位则在数的后面补零。例如1011100.01011转八进制


```
# 取三合一得到 1 011 100.010 11，补0后得到如下
001 011 100.010 110
1   3   4  .2   6
```

- 二进制转十六进制

  与二进制转八进制类似，取四合一，例如1011100.01011转十六进制


```
# 取四合一得到101 1100.0101 1，补0后得到如下
0101 1100.0101 1000
5    C   .5    8
```

- 原码、反码、补码、移码

| 码制 | 数值1     | 数值-1    | 1-1       |
| ---- | --------- | --------- | --------- |
| 原码 | 0000 0001 | 1000 0001 | 1000 0010 |
| 反码 | 0000 0001 | 1111 1110 | 1111 1111 |
| 补码 | 0000 0001 | 1111 1111 | 0000 0000 |
| 移码 | 1000 0001 | 0111 1111 | 1000 0000 |

## 数据表示范围

| 码制 | 定点整数                    | 顶点小数                          |
| ---- | --------------------------- | --------------------------------- |
| 原码 | - (2^n-1^-1) ~ + (2^n-1^-1) | - (1-2^-(n-1)^) ~ + (1-2^-(n-1)^) |
| 反码 | - (2^n-1^-1) ~ + (2^n-1^-1) | - (1-2^-(n-1)^) ~ + (1-2^-(n-1)^) |
| 补码 | - 2^n-1^ ~ + (2^n-1^-1)     | -1 ~ + (1-2^-(n-1)^)              |
| 移码 | - 2^n-1^ ~ + (2^n-1^-1)     | -1 ~ + (1-2^-(n-1)^)              |

- 定点整数

  当n=8，也就是一共8个位数时：

  原码：

  `- (2^n-1^-1) ~ + (2^n-1^-1)`

  `-127 ~ +127`

  转为二进制：

  `1111 1111 ~ 0111 1111`

  补码：

  `1000 0000 ~ 0111 1111`

  其中-128的补码为1000 0000是人为规定

- 定点小数

  当n=8，也就是一共8个位数时：

  原码：

  `  - (1-2^-(n-1)^) ~ + (1-2^-(n-1)^)`

  即：-0.1111111 ~ +0.1111111

  补码：

  `-1 ~ + 0.1111111`

  其中-1的补码为1000 0000是人为规定

## 浮点的运算

- 浮点数表示

  N = 尾数*基数^指数^

  N = M*R^e^

- 运算过程

  对阶 > 尾数计算 > 结果格式化

- 特点

  1. 一般尾数用**补码**，阶码用移码
  2. **阶码的位数**决定数的**表示范围**，位数越多范围越大
  3. **尾数的位数**决定数的**有效长度**，位数越多精度越高
  4. 对阶时，**小数向大数看齐**
  5. 对阶是通过**较小数的尾数右移**实现的

## 计算机结构

<img src="assets/1-1.png" style="zoom:75%;" />

### 运算器

- **算术逻辑单元ALU：数据的算术运算和逻辑运算**
- 累加寄存器AC：通用寄存器，为ALU提供一个工作区，用于暂存数据
- 数据缓冲寄存器DR：写内存时，暂存指令或数据
- 状态条件寄存器PSW：村状态标志与控制标志

### 控制器

- **程序计数器PC：存储下一条要执行指令的地址**
- 指令寄存器IR：存储即将执行的指令
- 指令译码器ID：对指令中的操作字码进行分段解释
- 时序部件：提供时序控制信号

## 计算机体系结构分类

### Flynn分类法

| 体系结构类型         | 结构                                               | 关键特性                               | 代表                                   |
| -------------------- | -------------------------------------------------- | -------------------------------------- | -------------------------------------- |
| 单指令流单数据流SISD | 控制部分：一个<br/>处理器：一个<br/>主存模块：一个 |                                        | 单处理器系统                           |
| 单指令流多数据流SIMD | 控制部分：一个<br/>处理器：多个<br/>主存模块：多个 | 各处理器以异步的形式执行同一条指令     | 并行处理机、并列处理机、超级向量处理机 |
| 多指令单多数据流MISD | 控制部分：多个<br/>处理器：一个<br/>主存模块：多个 | 被证明是不可能，至少是不实际           | 目前没有，有文献称流水线计算机为此类   |
| 多指令流多数据流MIMD | 控制部分：多个<br/>处理器：多个<br/>主存模块：多个 | 能够实现作业、任务、指令等各级全面并行 | 多处理机系统、多计算机                 |

### 冯泽云分类法

### Handler分类法

### kuck分类法

## 指令的基本概念

- 一条指令就是机器语言的一个语句，它是一组有意义的二进制代码，指令的基本格式如下：

  <img src="assets/1-2.png" style="zoom:50%;" />

- 操作码部分指出了计算机要执行什么性质的操作，如加法、减法、取数、存数等。地址码字段需要包含各操作数的地址及操作结果的存放地址等，从其地址结构的角度可分为三地址指令、二地址指令、一地址指令和零地址指令。

  <img src="assets/1-3.png" style="zoom:50%;" />

## 寻址方式

- 立即寻址方式

  特点：操作数直接在指令中，速度快，灵活性能

- 直接寻址方式

  特点：指令中存放的是操作数的地址

- 间接寻址方式

  特点：指令中存放了一个地址，这个地址对应的内容是操作数的地址

- 寄存器寻址方式

  特点：寄存器存放操作数

- 寄存器间接寻址方式

  特点：寄存器存放的是操作数的地址

## CISC与RISC

| 指令操作类型 | 指令                                                         | 寻址方式   | 实现方式                                             | 其他                       |
| ------------ | ------------------------------------------------------------ | ---------- | ---------------------------------------------------- | -------------------------- |
| CISC（复杂） | 数量多，使用频率差别大、可变长格式                           | 支持多种   | 微程序控制技术（微码）                               | 研制周期长                 |
| RISC（精简） | 数量少，使用频率接近，定长格式，大部分分为单周期指令，操作寄存器，只有Load/Store操作内存 | 支持方式少 | 增加了通用寄存器；硬布线逻辑控制为主，适合采用流水线 | 优化编译，有效支持高级语言 |

### CISC与RISC比较，分哪些维度？

- 指令数量、指令使用频率、寻址方式、寄存器、流水线支持、高级语言支持

### 结论

- CISC：复杂，指令数量多，频率差别大，多寻址
- RISC：精简，指令数量少，操作寄存器，少寻址，多通用寄存器，流水线

## 流水线

### 概念

- 相关参数计算：**流水线执行时间计算、流水线吞吐率**、流水线加速比、流水线效率
- 流水线是指在程序执行过程时多条指令重叠进行操作的一种准并行处理实现技术。各种部件同时处理是针对不同指令而言的，它们可同时为多条指令的不同部分进行工作，以提高各部件的利用率和指令的平均执行速度

![](assets/1-4.png)

### 流水线计算

![](assets/1-5.png)

![](assets/1-9.png)

### 流水线吞吐率计算

![](assets/1-6.png)

### 流水线加速比计算

![](assets/1-8.png)

### 流水线的效率

![](assets/1-7.png)

## 层次化存储结构

![](assets/1-10.png)

## Cache

### 概念

![](assets/1-11.png)

## 主存

### 分类

![](assets/1-12.png)

### 编址与计算

![](assets/1-13-1.png)

![](assets/1-13.png)

```
(1)B
#大地址 - 小地址 + 1

C7FFFH + 1 - AC000H
C8000H - AC000H = 1C000H
1C000H * 2^10 = 112
(2)A
112k * 16 / (28*16k*X) = 1
X = 4
```

## 磁盘结构与参数

![](assets/1-14.png)

## 总线

> 所谓总线（Bus），是指计算机设备和设备之间传输信息的公共数据通道。总线是连接计算机硬件系统内多种设备的通信线路，它的一个重要特征是由总线上的所有设备共享，因此可以将计算机系统内的多种设备连接到总线上。

### 总线的分类

- 数据总线（Data Bus）：在CPU与RAM之间来回传送需要处理或是需要储存的数据。
- 地址总线（Address Bus）：用来指定在RAM(Random Access Memory)之中储存的数据的地址。
- 控制总线（Control Bus）：将微处理器控制单元（Control Unit）的信号，传送到周边设备，一般常见的为USB Bus和1394 Bus

## 系统可靠性分析与设计

### 串联系统与并联系统

![](assets/1-15.png)

### 模冗余系统与混合系统

![](assets/1-15-2.png)

## 校验码

### 校验码基础知识

> 计算机系统运行时，为确保数据在传送过程中正确无误，一是提高硬件电路的可靠性，二是提高代码的校验能力，包括差错和纠错。通常使用校验码的方法来检测传送的数据是否出错。

- 码距：任何一种编码都由许多码字构成，任意两个码字之间最少变化的二进制位数就称为数据校验码的码距
- 例如：有两个四位二进制，1111与1110，它们的码距便是1。因为只有最低位不同。

### 奇偶校验码

**可检查1位的错误，不可纠错**

> 通过在编码中增加一位校验位来使编码中1的个数为奇数（奇校验）或偶数（偶校验），从而使码距变为2

奇偶校验码的编码方法是：由若干位有效信息（如一个字节），再加上一个二进制位（校验位）组成校验码。

### 循环校验码CRC

**可检错，不可纠错**

> 利用生成多项式为k个数据位产生r个校验位来进行编码，其编码长度为k+r

循环冗余校验码编码规律如下：

1. 把待编码的N位有效信息表示为多项式M(X)
2. 把M(X)左移K位，得到M(X)xX^k^，这样空出了K位，以便拼装K位余数（即校验位）
3. 选取一个K+1位的产生多项式G(X)，对M(X)xX^k^做模2除
4. 把左移K位以后的有效信息与余数R(X)做模2加减，拼接为CRC码，此时的CRC码共有N+K位

**模2除法**

...

### 海明校验码

**可检错，也可纠错**



